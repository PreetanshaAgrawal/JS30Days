<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide images on scroll</title>
</head>

<body>

    <div class="container">


        <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Soluta placeat earum illum voluptate laudantium suscipit ipsa laborum aut. Facilis ex, eligendi adipisci dolorem consequatur accusantium omnis aspernatur praesentium impedit, ab dolor consectetur esse delectus quisquam blanditiis. Repellat molestias officia voluptatum adipisci animi, dolorum nihil in mollitia, dolores labore iste a eum odit voluptatibus neque tenetur similique incidunt, aliquam accusamus expedita omnis modi cumque! Earum harum accusantium voluptatum aut esse atque sapiente doloremque mollitia? Et non nam blanditiis, error beatae eum. Aliquam commodi nihil qui labore eaque, optio ad, quaerat doloremque autem nam assumenda soluta voluptas minus expedita corrupti? Tempora cum quia expedita dolorum culpa nisi architecto, doloremque vel aspernatur maxime sunt molestiae labore, ipsa, minima quae tenetur. Magnam et nemo rem accusamus inventore, nostrum dolorum aliquam aspernatur ut similique voluptas sit doloremque in. Quae ea ad quasi at natus ut ullam pariatur. Voluptas asperiores a nulla atque eveniet, dignissimos laudantium, expedita unde minus, similique iste officiis amet aspernatur. Incidunt ex corporis numquam expedita minus odio, quaerat fuga, consectetur eaque ducimus magnam ea quidem voluptate totam provident, sequi fugiat. Quidem vitae maxime ipsum a quibusdam, autem esse exercitationem ab officia optio ipsa delectus dolore voluptate omnis necessitatibus, voluptatem, illum fugit earum?
        </p>
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img1.jpg" class="align_left slide_in">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img2.jpg" class="align_right slide_in">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img3.jpg" class="align_left slide_in">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img8.jpg" class="align_right slide_in">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img9.jpg" class="align_left slide_in">
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Fugiat illum culpa, corrupti quasi, excepturi,
            delectus ullam asperiores nulla iste modi eos rerum earum laudantium.
            Tempora fugit illo nesciunt cupiditate ut aut eaque earum rerum quaerat
            expedita laboriosam ducimus explicabo amet recusandae ipsam iste distinctio,
            ab ullam repellendus sunt. Assumenda cupiditate error architecto molestias
            rem dolorem, eius, dolorum impedit, placeat maxime molestiae nostrum quisquam
            adipisci nam eos id. Eius dolores, cumque in impedit minus nesciunt sint odio
            odit. Ducimus totam quasi similique laboriosam neque odit labore ea quibusdam
            perspiciatis quas, eaque nostrum? Sapiente quo error culpa natus nisi harum
            tempora odio!
        </p>

        <img src="img1.jpg" class="align_right slide_in">
    </div>

    <!-- javascript -->
    <script>

        const imageSlider = document.querySelectorAll('.slide_in');

        // slowing down the events firing too many times while scrolling;
        function debounce(func, wait=20, immediate=true){
            var timeout;
            return function(){
                var context = this, args = arguments;

                var later = function(){
                    timeout = null;
                    if(!immediate) func.apply(context, args);
                };

                var callNow = immediate && !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);

                if(callNow) func.apply(context, args);
            };

        };

        function checkSlider(e){

            imageSlider.forEach(image => {

                // halfway through the image
                const slideInAt = (window.scrollY + window.innerHeight) - image.height/2;

                // Bottom of the image from the top of the page
                const bottomOut = image.offsetTop + image.height;
                // offsetTop is a property that tells us the top of the image
                // from the top of the window.

                const isHalfShown = slideInAt > image.offsetTop;

                const isNotScrollPast = window.scrollY < bottomOut;

                if(isHalfShown && isNotScrollPast){
                    image.classList.add('active');
                }
                else{
                    image.classList.remove('active');
                }
            });


            // console.count(e);
        }

        window.addEventListener("scroll", debounce(checkSlider));

    </script>








    <!-- css -->
    <style>

        html{
            background-color: rgb(225, 179, 43);
            box-sizing: border-box;
            font-size: 20px;
            font-weight: 300;
            font-family: sans-serif;
        }

        .container{
            background-color: white;
            width: 500px;
            /* centering the container */
            margin: auto;
            padding: 40px;
            text-align: justify;
        }

        img{
            background-color: white;
            width: 400px;
            /* margin: auto; */
        }

        .align_right{
            float: right;
            margin-left: 20px;
        }

        .align_left{
            float: left;
            margin-right: 20px;
        }

        .slide_in{
            opacity: 0;
            transition: all 0.5s;
        }

        .align_left .slide_in{
            transition: translateX(-30%) scale(0.95);
        }
        .align_right .slide_in{
            transition: translateX(30%) scale(0.95);
        }

        .slide_in.active{
            opacity: 1;
            transition: translateX(0%) scale(1);

        }

    </style>
</body>

</html>